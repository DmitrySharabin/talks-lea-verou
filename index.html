<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="utf-8" />
<title>JS UX</title>
<link href="../csss/slideshow.css" rel="stylesheet" />
<link href="../csss/reusable.css" rel="stylesheet" />
<link href="prism.css" rel="stylesheet" />
<link href="theme.css" rel="stylesheet" />
<link href="talk.css" rel="stylesheet" />
<script src="../prefixfree/prefixfree.min.js"></script>

</head>
<body class="language-javascript">

<section id="for-browser" class="dark slide">
	<h1>Important</h1>
	This slide deck was created for use in a controlled environment, during a talk. It works best with Chrome at 1280x720 or 1280x768. It may or may not work properly in other browsers.
	The demos were live coded, so these slides are a bit pointless if you never watched the talk.
</section>

<header id="intro" class="slide dont-resize" data-source="flickr.com/photos/billward/16601966117">
	<h1>
		JSUX
	</h1>
	<p class="attribution">By <a href="http://lea.verou.me">Lea Verou</a> (<a href="http://twitter.com/leaverou">@LeaVerou</a>)</p>
</header>

<section>
	<section class="inverse slide dont-resize darker hi">
		<figure class="delayed">
			<img src="img/me-pirate.png" alt="Picture of me" title="Pirate illustration by Lorenzo Grandi http://www.lorenzograndi.it/" />
			<figcaption>Hi, I’m Lea</figcaption>
		</figure>
	</section>

	<section class="inverse slide dont-resize darker hi" id="lesbian" data-steps="3">
		<div>
		<p>#funfact</p>
		<p>I grew up in Lesbos, Greece</p>
		<p>…which technically makes me <strong>geogrpahically Lesbian</strong></p>
		</div>
	</section>

	<section class="inverse slide dont-resize darker hi" id="doing-stuff">
		<div class="delayed">
			<p>I make stuff</p>
			<ul>
				<li><a href="http://prismjs.com">Prism</a></li>
				<li><a href="http://leaverou.github.io/prefixfree">-prefix-free</a></li>
				<li><a href="http://blissfuljs.com">Bliss</a></li>
				<li><a href="http://css3test.com">css3test.com</a></li>
				<li><a href="http://leaverou.github.io/awesomplete/">Awesomplete</a></li>
				<li><a href="http://cubic-bezier.com/">cubic-bezier.com</a></li>
				<li><a href="http://dabblet.com">dabblet.com</a></li>
				<li><a href="http://leaverou.github.io/animatable/">Animatable</a></li>
			</ul>
			<small>More: <a href="http://github.com/leaverou">github.com/leaverou</a></small>
		</div>
	</section>

	<section class="inverse slide dont-resize darker hi" id="csswg">
		<p class="delayed">
			<strong>CSS WG</strong>
			Invited Expert
		</p>
	</section>

	<section class="inverse slide dont-resize darker hi" id="mit">
		<p class="delayed">
			<img src="img/mit.svg" alt="MIT" />
			HCI researcher @ CSAIL
		</p>
	</section>

	<section class="inverse slide dont-resize darker hi" id="book">
		<a href="http://shop.oreilly.com/product/0636920031123.do" class="delayed">
			<img src="img/book.png" alt="CSS Secrets by O’Reilly" style="display:block" />
			★★★★★ on Amazon
		</a>
	</section>

	<article class="slide hi">
		<img src="img/referendum.png" alt="" class="tweet">
	</article>
</section>

<section>
	<header class="slide">
		<h1>JS? UX? JSUX…?</h1>
	</header>

	<article class="slide">
		<blockquote>
			<p>“<em>Usability</em> is the ease of use and learnability of a human-made object.”</p>
			<p class="cite"><a href="https://en.wikipedia.org/wiki/Usability"></a></p>
		</blockquote>
	</article>

	<article class="slide">
		<blockquote style="max-width: 25em">
			<p>“<em>User experience (UX)</em> refers to a person's total experience using a particular product, system or service.”</p>
			<p class="cite"><a href="https://en.wikipedia.org/wiki/User_experience"></a></p>
		</blockquote>
	</article>

	<article class="slide">
		<blockquote style="max-width: 24em">
			<p>“The <em>User Interface (UI)</em> is everything designed into an information device with which a human being may interact”</p>
			<p class="cite"><a href="https://books.google.co.il/books?id=Zmypu5-miawC&pg=PT256&lpg=PT256&dq=%22everything+designed+into+an+information+device+with+which+a+human+being+may+interact%22&source=bl&ots=mCh1jmmQ5b&sig=_GcD6kH-8wMVZU2a-uEbJhF1yYE&hl=en&sa=X&ved=0ahUKEwiTr_Ok58XNAhVMFMAKHXNDB0IQ6AEIJTAD#v=onepage&q=%22everything%20designed%20into%20an%20information%20device%20with%20which%20a%20human%20being%20may%20interact%22&f=false">Handbook of Research on Web Information Systems Quality</a></p>
		</blockquote>
	</article>

	<article class="image slide" style="background: url(img/gsheets.png) no-repeat center / contain;">
		<h1>
			GUInception
		</h1>
	</article>

	<article class="image slide" style="background-image: url(img/faucet.jpg);">
		<h1>A faucet is a UI</h1>
	</article>

	<article class="image slide" style="background-image: url(img/book.jpg)">
		<h1>A book is a UI</h1>
	</article>

	<article class="image slide" id="uinception">
		<h1 class="caption">Slides are a UI</h1>
		<div class="delayed"><div class="delayed"><div class="delayed"><div class="delayed"><div class="delayed"><div class="delayed"><div class="delayed"><div class="delayed"><div class="delayed"><div class="delayed"><div class="delayed"><div class="delayed"><div class="delayed"><div class="delayed"><div class="delayed">
			<div class="delayed"><div class="delayed"><div class="delayed"></div></div></div>
		</div></div></div></div></div></div></div></div></div></div></div></div></div></div></div>
	</article>

	<article class="image slide" style="background-image: url(img/code.png);">
		<h1>Your code is a UI</h1>
	</article>
</section>

<article class="slide">
	<blockquote>
		<p>“Code is written once but read many times”</p>
		<p class="cite">Unknown</p>
	</blockquote>
</article>

<section>
	<header class="commandment slide">
		<h1>Sensible defaults</h1>
	</header>

	<article class="hall shame slide">
		<div class="language-console">
			<pre><code>> new URL("foo.txt")</code></pre>
			<pre class="error"><code>Uncaught TypeError: Failed to construct 'URL': Invalid URL</code></pre>
			<pre><code>> new URL("foo.txt", location)</code></pre>
		</div>
	</article>
</section>
<section>
	<header class="sin slide">
		<h1>Boolean traps</h1>
	</header>

	<article class="hall shame slide" id="cloneNode">
		<pre><code>element.cloneNode(true);</code></pre>
	</article>

	<article class="hall shame slide">
		<pre class="no-whitespace-normalization"><code class="delayed">// Change these numbers to see what each one is for...
</code><code>ctx.ellipse(100, 100, 50, 75, .785398, 0, 6.2831853);</code></pre>
	</article>

	<article class="hall shame slide">
		<pre><code>
			element.addEventListener("focus", callback, true);
		</code></pre>
	</article>

	<article class="hall shame slide">
		<pre><code>
			event.initKeyEvent("keypress", true, true, null, null,
			                   false, false, false, false, 9, 0);
		</code></pre>
	</article>

	<article class="slide" id="microwave" data-source="Image credits: http://worrydream.com/LearnableProgramming">
		<div>
			<img src="img/worrydream2.png" alt="" class="delayed">
			<img src="img/worrydream1.png" alt="">
		</div>
	</article>

	<article class="slide" data-source="Image credits: http://worrydream.com/LearnableProgramming">
		<img src="img/worrydream3.png" alt="" style="transform: scale(1.2)">
	</article>
</section>
<section>
	<header class="sin slide">
		<h1>Random argument order</h1>
	</header>

	<article class="hall shame slide" id="replaceChild">
		<div>
			<pre><code>parentNode.replaceChild(newChild, oldChild)</code></pre>
			<pre><code>parentNode.replaceChild(oldChild, newChild)</code></pre>
		</div>
	</article>

	<article class="hall fame slide">
		<pre><code>
			oldChild.replaceWith(newChild);
		</code></pre>
	</article>

	<article class="solution slide">
		<h1>Object literal argument</h1>
		<ul class="good">
			<li>Labelled parameters</li>
			<li>Any order</li>
			<li>All optional</li>
		</ul>
	</article>

	<article class="hall fame slide">
		<pre><code>
			(50000).toLocaleString("en", {
				style: "currency",
				currency: "EUR",
				currencyDisplay: "name"
			}); // "50,000.00 euros"
		</code></pre>
	</article>

	<article class="hall fame slide">
		<pre><code>
			element.addEventListener("focus", callback, {
				capture: true,
				once: true
			});
		</code></pre>
	</article>

	<article class="slide">
		<h1>ES6 Default Parameters</h1>
		<pre><code>
			function myFunk(o = {
				option1: 5,
				option2: false
			}) {
				console.log(o.option1, o.option2);
			}
		</code></pre>
	</article>
</section>
<section>
	<header class="commandment slide">
		<h1 style="max-width: 8em">Order parameters by importance</h1>
	</header>

	<article class="hall shame slide">
		<pre><code>
			history.pushState(null, "", "http://lea.verou.me");
		</code></pre>
	</article>
</section>
<section>
	<header class="sin slide">
		<h1>True by default</h1>
	</header>

	<article class="slide">
		<h1>Boolean parameters in JS</h1>

		<ul>
			<li><code>true</code></li>
			<li><code>false</code></li>
			<li class="delayed"><code>undefined</code></li>
		</ul>
	</article>

	<article class="slide">
		<h1>Boolean parameters in JS</h1>

		<ul>
			<li><code>!!true → true</code></li>
			<li><code>!!false → false</code></li>
			<li><code>!!undefined → false</code></li>
		</ul>
	</article>

	<article class="hall shame slide">
		<pre><code>element.cloneNode(<em>deep</em>);</code></pre>
		<pre><code>element.cloneNode(); // deep = true</code></pre>
	</article>

	<article class="solution slide">
		<h1>Negate the concept</h1>
		<pre><code>element.cloneNode(<em>shallow</em>);</code></pre>
		<pre><code>element.cloneNode(); // shallow = false</code></pre>
	</article>
</section>

<section>
	<header class="sin slide">
		<h1>Double Negatives</h1>
	</header>

	<article class="hall shame slide">
		<pre><code>input.disabled = false;</code></pre>
	</article>

	<article class="whynot slide">
		<pre><code>input.enabled = true;</code></pre>
	</article>
</section>

<section>
	<header class="commandment slide">
		<h1>Thou shalt chain</h1>
	</header>

	<article class="hall shame slide" id="setAttribute">
		<pre><code>
			var audio = document.createElement("audio");
			audio.setAttribute("src", "rain.mp3");
			audio.setAttribute("autoplay", "");
			audio.setAttribute("start", "00:00:00.00");
			audio.setAttribute("loopstart", "00:00:00");
			audio.setAttribute("end", "00:01:00");
			audio.setAttribute("playcount", "100");
			audio.setAttribute("controls", "true");
		</code></pre>
	</article>

	<article class="whynot slide">
		<pre><code>
			document.createElement("audio")
				.setAttribute("src", "rain.mp3");
				.setAttribute("autoplay", "");
				.setAttribute("start", "00:00:00.00");
				.setAttribute("loopstart", "00:00:00");
				.setAttribute("end", "00:01:00");
				.setAttribute("playcount", "100");
				.setAttribute("controls", "true");
		</code></pre>
	</article>

	<article class="hall shame slide">
		<pre><code>
			ctx.clearRect(0, 0, 256, 192);
			ctx.save();
			ctx.translate(96, 96);
			ctx.rotate(45*Math.PI/180);
			ctx.scale(1.2);
			ctx.drawImage(img1, 0,0,192,192, -288,-288,576,576);
			ctx.drawImage(img2, 0,0,192,192, -96 ,-96 ,192,192);
			ctx.drawImage(img3, 0,0,192,192, -32 ,-32 ,64 ,64);
			ctx.restore();
		</code></pre>
	</article>

	<article class="whynot slide">
		<pre><code>
			ctx.clearRect(0, 0, 256, 192)
			   .save()
			   .translate(96, 96)
			   .rotate(45*Math.PI/180)
			   .scale(1.2)
			   .drawImage(img1, 0,0,192,192, -288,-288,576,576)
			   .drawImage(img2, 0,0,192,192, -96 ,-96 ,192,192)
			   .drawImage(img3, 0,0,192,192, -32 ,-32 ,64 ,64)
			   .restore();
		</code></pre>
	</article>

	<article class="slide">
		<h1>Returning undefined is wasteful</h1>
	</article>

	<article class="slide">
		<pre><code>
			yolo: function() {
				// Function code here

				return this;
			}
		</code></pre>
	</article>

	<article class="slide">
		<pre><code>
			function chainable(fn) {
				return function() {
					var ret = fn.apply(this, arguments);
					return ret === undefined? this : ret;
				}
			}
		</code></pre>
	</article>

	<article data-src="http://leaverou.github.io/chainvas"></article>
</section>

<section>
	<header class="slide commandment">
		<h1>Make the simple <strong>easy</strong> <br>& the complex <strong>possible</strong></h1>
	</header>

	<article class="hall fame slide">
		<pre><code>
			node.compareDocumentPosition(otherNode) ==
				Node.DOCUMENT_POSITION_CONTAINS;
		</code></pre>
		<pre class="delayed"><code>node.contains(otherNode);</code></pre>
	</article>
</section>

<section>
	<header class="commandment slide">
		<h1>Support doing operations en masse</h1>
	</header>

	<article class="slide" data-import="setAttribute"></article>

	<article class="whynot slide">
		<pre><code>
			var audio = document.createElement("audio");
			audio.setAttribute({
				src: "rain.mp3",
				autoplay: "",
				start: "00:00:00.00",
				loopstart: "00:00:00",
				end: "00:01:00",
				playcount: "100",
				controls: "true"
			});
		</code></pre>
	</article>

	<article class="hall shame slide">
		<pre><code>
			var els = document.querySelectorAll(".foo");

			for (let i=0; i&lt;els.length; i++) {
				els[0].setAttribute("data-foo", "bar");
			}
		</code></pre>
	</article>

	<article class="whynot slide">
		<pre><code>
			var els = document.querySelectorAll(".foo");

			els.setAttribute("data-foo", "bar");
		</code></pre>
	</article>
</section>

<section>
	<header class="sin slide">
		<h1>Redundancy</h1>
	</header>

	<article class="hall shame slide">
		<pre><code>element.parentNode.removeChild(element);</code></pre>
	</article>

	<article class="hall fame slide">
		<pre><code>element.remove();</code></pre>
	</article>

	<article class="hall shame slide">
		<pre><code>element.parentNode.insertBefore(newChild, element);</code></pre>
	</article>

	<article class="hall fame slide">
		<pre><code>element.before(newChild);</code></pre>
	</article>
</section>

<section>
	<header class="sin slide">
		<h1>Accessor functions</h1>
	</header>

	<article class="hall shame slide">
		<pre><code>
			let date = new Date();

			date.getMonth(); // 5
			date.setMonth(1);
		</code></pre>
	</article>

	<article class="slide">JS is not Java</article>

	<article class="whynot slide">
		<pre><code>
			let date = new Date();

			date.month; // 5
			date.month = 1;
		</code></pre>
	</article>

	<article class="solution slide">
		<h1>ES5 Accessors</h1>
		<pre><code>
			Object.defineProperty(Date.prototype, "month", {
				get: function() { return this.getMonth(); },
				set: function(m) { this.setMonth(m); }
			});
		</code></pre>
	</article>

	<article class="incomplete slide">
		<h1>Exception: Parameters</h1>
	</article>

	<article class="hall shame slide">
		<pre><code>
			localStorage.setItem("yolo", "yes");
			localStorage.getItem("yolo"); // "yes"
		</code></pre>
	</article>

	<article class="hall fame slide">
		<pre><code>
			localStorage.yolo = "yes";
			localStorage.yolo; // "yes"
		</code></pre>
	</article>

	<article class="solution slide">
		<h1>ES6 Proxies</h1>
		<pre><code>
			MyStorage = new Proxy(MyHiddenObject, {
				get: function(property) {
					if (property in myObject) {
						return myObject[property];
					}
					return myObject.getItem(property);
				},
				…
			});
		</code></pre>
	</article>
	<article class="solution slide">
		<h1>ES6 Proxies</h1>
		<pre><code>
			MyStorage = new Proxy(MyHiddenObject, {
				…
				set: function(property, val) {
					if (property in myObject) {
						return myObject[property] = val;
					}
					myObject.setItem(property, val);
				},
				…
			});
		</code></pre>
	</article>
</section>

<section>
	<header class="sin slide">
		<h1>Verbosity</h1>
	</header>

	<header class="commandment slide">
		<h1>Use <strong>few, simple words</strong></h1>
	</header>

	<header class="commandment slide">
		<h1>Name after <strong>what it does,</strong> not <strong>how it works</strong></h1>
	</header>

	<article class="hall shame slide">
		<pre><code>
			document.querySelector(".foo");
			document.querySelectorAll(".foo");
		</code></pre>
	</article>

	<article class="hall meh slide">
		<pre><code>
			document.query(".foo");
			document.queryAll(".foo");
		</code></pre>
	</article>

	<article class="hall fame slide">
		<pre><code>
			document.find(".foo");
			document.findAll(".foo");
		</code></pre>
	</article>

	<article class="hall slide">
		<pre><code>
			$(".foo");
		</code></pre>
	</article>
</section>

<section>
	<header class="sin slide">
		<h1>Boilerplate</h1>
	</header>

	<article class="hall shame slide">
		<pre><code>
			var xhr = new XMLHttpRequest();
			xhr.open("GET", "foo.json");
			xhr.responseType = "json";
			xhr.onload = function() {
				doStuff(xhr.response);
			}
			xhr.send(null);
		</code></pre>
	</article>

	<article class="hall fame slide">
		<pre><code>
			fetch("foo.json")
			  .then(response => response.json())
			  .then(doStuff);
		</code></pre>
	</article>
</section>

<section>
	<header class="commandment slide">
		<h1>Thou shalt respond <br>to changes</h1>
	</header>

	<article class="slide" data-src="http://masonry.desandro.com/"></article>

	<article class="hall shame slide">
		<pre><code>
			packery.layout();
		</code></pre>
	</article>

	<article class="solution slide">
		<h1>Mutation observers</h1>
		<pre><code>
			var observer = new MutationObserver(mutations => {
				packery.layout();
			});

			var grid = document.getElementById("grid");
			observer.observe(grid, {
				childList: true,
				characterData: true
			});
		</code></pre>
	</article>

	<article class="slide" id="future-observers">
		<h1>Soon:</h1>

		<ul>
			<li><code>ResizeObserver</code> <a href="https://wicg.github.io/ResizeObserver"></a></li>
			<li><code>IntersectionObserver</code> <a href="https://wicg.github.io/IntersectionObserver"></a></li>
		</ul>
	</article>

	<article class="talking slide" id="think-of-the-browsers" data-source="flickr.com/photos/x-ray_delta_one/4264423055/">
		<h1>Won’t someone, please, think of performance?!</h1>
	</article>

	<article class="slide">
		<h1>Use with restraint</h1>

		<ul>
			<li>Observe as little as possible</li>
			<li>Narrow scope as much as possible</li>
			<li><code>unobserve()</code> when no longer needed</li>
			<li>Don’t force it on your users</li>
		</ul>
	</article>
</section>

<section>
	<header class="sin slide">
		<h1>No toString() and toJSON()</h1>
	</header>

	<article class="hall shame slide">
		<div class="language-console">
			<pre><code>> document.body.attributes[0] + ""</code></pre>
			<pre><code>< "[object Attr]"</code></pre>
		</div>
	</article>
	<article class="slide">
		<div class="language-console">
			<pre><code>> Attr.prototype.toString = function() { return this.name }</code></pre>
			<pre><code>> document.body.attributes[0] + ""</code></pre>
			<pre><code>< "class"</code></pre>
			<pre><code>> Attr.prototype.toString = function() {
return `${this.name}=${this.value}` }</code></pre>
			<pre><code>> document.body.attributes[0] + ""</code></pre>
			<pre><code>< "class=language-javascript"</code></pre>
		</div>
	</article>
</section>

<section>
	<header class="commandment slide">
		<h1>Thou shalt also<br> have an <strong>HTML API</strong></h1>
	</header>
</section>

<section>
	<article class="hall slide">
		<pre class="partial"><code>
			(50000).toLocaleString("en", {
				style: "currency",
				currency: "EUR",
				currencyDisplay: "name",
				<mark>useGrouping: false</mark>
			}); // "50000.00 euros"
		</code></pre>
	</article>
</section>

<footer class="dark slide">
	<img src="img/mark.svg" />
	<h1>Thank you!</h1>
	<ul>
		<li style="--icon: '📨'"><a href="mailto:lea@w3.org">lea@verou.me</a></li>
		<li style="--icon: '🌍'"><a href="http://lea.verou.me">lea.verou.me</a></li>
		<li style="--icon: '🐦'"><a href="http://twitter.com/leaverou">@leaverou</a></li>
	</ul>

	<p>Slides: <a href="https://leaverou.github.io/html-secrets">leaverou.github.io/html-secrets</a></p>
	<p style="font-size: 50%;">This slide deck was entirely built with open web technologies! Slideshow framework: <a href="http://github.com/LeaVerou/CSSS">github.com/LeaVerou/CSSS</a></p>
</footer>

<script src="js/bliss.min.js"></script>
<script src="../csss/slideshow.js"></script>
<script src="js/prism.js"></script>
<!--
<script src="../incrementable/incrementable.js"></script>
<script src="js/editor.js"></script> -->
<script src="js/talk.js"></script>

</body>
</html>
