@import url("https://lea.verou.me/assets/fonts.css");

:root {
	--font-sans: Inter, system-ui, -apple-system, BlinkMacSystemFont, "Helvetica Neue", Helvetica, sans-serif;
	--font-body: var(--font-sans);
	/* --font-serif: Vollkorn, "Hoefler Text", Garamond, "Times New Roman", serif; */
	--font-cursive: Zapfino, "Apple Chancery", BrushScriptMT, cursive;
	--font-monospace: Inconsolata, Consolas, Noto Sans Mono, Source Code Pro, Roboto Mono, Menlo, Monaco, monospace;
	--font-mono: var(--font-monospace);

	--color-yellow: oklch(.75 0.18 95);
	--color-orange: oklch(.7 0.185 60);
	--color-red: oklch(0.55 0.2 30);
	--color-green: oklch(.7 .2 135);
	--color-aqua: oklch(0.7 0.16 220);
	--color-magenta: oklch(0.66 0.25 5);

	--color-gray-10: oklch(0.1 0.02 180);
	--color-gray-20: oklch(0.2 0.02 180);
	--color-gray-30: oklch(0.3 0.02 180);
	--color-gray-40: oklch(0.4 0.02 180);
	--color-gray-50: oklch(0.5 0.02 180);
	--color-gray-60: oklch(0.6 0.015 180);
	--color-gray-70: oklch(0.7 0.014 180);
	--color-gray-80: oklch(0.8 0.012 180);
	--color-gray-90: oklch(0.9 0.01 180);
	--color-gray-95: oklch(0.95 0.01 180);

	/* --color-green-light: color-mix(in oklch, var(--color-green) 0%, oklch(.95 .12 none));
	--color-red-light: color-mix(in oklch, var(--color-red) 0%, oklch(.95 .12 none)); */

	--color1: var(--color-yellow);
	--color2: var(--color-green);
	--color3: var(--color-aqua);
	--color4: var(--color-orange);

	--color-accent-1: var(--color-aqua);
	--color-accent-2: var(--color-green);
	--color-accent-3: var(--color-magenta);
	--color-accent-4: var(--color-orange);
	--color-accent-5: color-mix(in oklab, var(--color-accent-1), var(--color-accent-2));
	--color-accent-6: var(--color-yellow);

	--in-oklch: ;
	--in-oklab: ;
}

@supports (background: linear-gradient(in oklch, red, tan)) {
	:root {
		--in-oklch: in oklch;
	}
}

@supports (background: linear-gradient(in oklab, red, tan)) {
	:root {
		--in-oklab: in oklab;
	}
}

html {
	font-weight: 300;
	letter-spacing: -0.1em;
	color-scheme: light;
}

::selection {
	background: var(--color-accent-1);
	color: white;
}

pre {
	position: relative;

	&, &.prism-live.prism-live {
		padding: .3em .6em;
	}

	border-radius: .2em;
	--color: var(--color-yellow);
	background: color-mix(in oklch, var(--color) 0%, oklch(.985 .02 none));
	border-radius: .7rem;
	letter-spacing: normal;

	& + pre {
		margin-top: 1em;
	}

	&.language-css {
		--label: "CSS";
		--color: var(--color-aqua);
	}

	&.language-scss {
		--label: "SCSS";
		--color: var(--color-magenta);
	}

	&.language-javascript {
		--label: "JS";
		--color: var(--color-yellow);
		--label-text-color: black;
	}

	&.error {
		white-space: pre-wrap;
		color: var(--color-red);
		font-weight: bold;

		&::before {
			content: "✖️";
			display: inline-flex;
			vertical-align: middle;
			width: 1em;
			aspect-ratio: 1;
			align-items: center;
			justify-content: center;
			padding: .05em;
			border-radius: 50%;
			margin-right: .4em;
			background: var(--color-red);
			color: white;
			line-height: 1;
		}
	}

	&:where(.code-labels *)::after {
		content: var(--label);
		position: absolute;
		top: 0;
		right: 0;
		border-top-right-radius: inherit;
		border-bottom-left-radius: inherit;
		padding: .1em .5em;
		background: var(--color);
		color: var(--label-text-color, white);
		text-transform: uppercase;
		font: bold 80%/1.5 var(--font-sans);
	}
}

.slide {
	background-image: none;

	> h1,
	> header > h1 {
		margin: 0;
		font-size: calc(3 * var(--slide-base-font-size, 1rem));
	}

	> h1,
	> header {
		.subheading {
			color: var(--color-gray-60);
			font-size: calc(1.2 * var(--slide-base-font-size, 1rem));
			text-align: center;
			font-weight: 500;
		}
	}

	& h2 {
		color: inherit;
	}
}

header.slide {
	& h1 {
		font-weight: 800;
	}
}

.columns {
	display: grid;
	--column-template: repeat(var(--columns, 2), auto);
	grid-template-columns: var(--column-template);
	grid-template-rows: auto 1fr;
	gap: 2em;

	> h1,
	> header {
		grid-column: 1 / -1;
		margin: auto;
		margin-top: .5em;
	}

	> * {
		margin-top: 0;
	}

	&.c3 {
		--columns: 3;
	}

	/* &.vhead {
		grid-template-columns: auto var(--column-template);
		grid-template-rows: 1fr;

		> h1,
		> header {
			grid-column: 1;
			grid-row: 1;
			writing-mode: vertical-lr;
			transform: rotate(.5turn);
			margin-bottom: 0;
			line-height: 1;
		}

		> :not(h1, header) {
			grid-row: 1;
		}
	} */
}

.minimal.live.demo {
	display: grid;
	grid-template-columns: 1fr 1fr;
	align-items: center;
	justify-content: center;
}

.token {
	mix-blend-mode: multiply;

	&.comment,
	&.prolog,
	&.doctype,
	&.cdata {
		--comment-color: color-mix(in oklch, var(--color) 0%, oklch(60% .01 none));
		color: var(--comment-color, hsl(220 10% 10% / .5));
	}

	&.punctuation {
		opacity: .5;
		mix-blend-mode: normal;
	}
}

iframe.browser {
	/* Frame offsets in px */
	--frame-top: 38;
	--frame-right: 146;
	--frame-left: 201;

	position: relative;
	min-width: 347px;
	width: 100%;
	height: 100%;
	flex: 1;
	box-sizing: border-box;
	border: 1px solid rgba(0 0 0 / .2);
	border-radius: 5px;
	box-shadow: 0 20px 80px rgba(0 0 0 / .2);
	padding-top: calc(var(--frame-top) * 1px);
	background:
		url("img/chrome-left.png") left top no-repeat,
		url("img/chrome-right.png") right top no-repeat,
		var(--url-image,) 200px top no-repeat,
		url("img/chrome-middle.png") top repeat-x white;
	background-origin: border-box;

	&::after {
		content: var(--url);
		position: absolute;
		top: .45em;
		left: 210px;
		font-size: 38%;
		color: black;
		font-weight: 400;
	}

	.columns & {
		min-width: calc(90vw / var(--columns, 2));
	}
}

.slide:has(h1:first-child + .browser:last-child, h1:first-child + .browser + details.notes:last-child) {
	padding: 5rem;

	& > h1 {
		margin-bottom: .2em;
	}
}

.slide:is(.takeaway, .recap) h1,
h1[data-label],
h1:has(> .label) {
	&:not(:has(> .label))::before {
		content: var(--label);
	}

	&:not(:has(> .label))::before,
	> .label {
		display: block;
		width: fit-content;
		padding: .2em .5em;
		margin: 0 auto;
		background: var(--label-color, var(--color-accent-1));
		font-weight: bold;
		text-transform: uppercase;
		font-size: 50%;
		color: white;
	}
}

[data-credits]::after {
	letter-spacing: normal;
}

#indicator {
	opacity: .5;
}